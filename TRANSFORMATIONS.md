# Python 2 → Python 3 Транслятор

## Общая информация

Этот транслятор автоматически преобразует код на Python 2 в код на Python 3. Ниже приведен полный список всех поддерживаемых преобразований.

---

## НАБОР ПОДДЕРЖИВАЕМЫХ ПОТЮКОВ

### ОПЭРАТОРОВ

1. **print** - функция (def, class, if, elif, else, for, while, return, pass)
2. **Ключевые слова**: and, or, not, is, in, lambda, with, try, except, finally, yield
3. **Модификаторы**: global, nonlocal, assert, del, raise

### ОПЕРАТОРАХ

- **Арифметические**: +, -, *, /, //, %, ** (возведение в степень)
- **Сравнения**: ==, !=, <, <=, >, >=
- **Логические**: and, or, not
- **Присваивание**: =, +=, -=, *=, /=, %=

### ДОПОЛНИТЕЛЬНЫЕ аКЦЕссЫ

- **Атрибуты**: obj.attr (обращение к словарию)
- **Индексация**: obj[index] (обращение к элементу массива)

---

## ПОЛНЫЙ ЛИСТ ПОДДЕРЖИВАЕМЫХ ПРЕОБРАЗОВАНИЙ

### 1. Функция print

| Python 2 | Python 3 | Комментарий |
|----------|----------|--------|
| `print "Hello"` | `print("Hello")` | Основное использование |
| `print "A", "B"` | `print("A", "B")` | Много аргументов |
| `print "A",` | `print("A", end='')` | Без онового блока |

**Ориентированые включены**: Устраняются редирекции (`print >> file, ...`)

### 2. Неравенство

| Python 2 | Python 3 |
|----------|----------|
| `x <> y` | `x != y` |

### 3. Диапазоны

| Python 2 | Python 3 | Особенности |
|----------|----------|--------|
| `xrange(10)` | `range(10)` | Ленивые итераторы |

### 4. Методы словаря

| Python 2 | Python 3 | Цель |
|----------|----------|-----|
| `dict.iterkeys()` | `dict.keys()` | Получить ключи |
| `dict.itervalues()` | `dict.values()` | Получить значения |
| `dict.iteritems()` | `dict.items()` | Получить пары |
| `dict.has_key(k)` | `k in dict` | Проверить объект |

### 5. Ввод-вывод

| Python 2 | Python 3 | Комментарий |
|----------|----------|--------|
| `raw_input("msg")` | `input("msg")` | Чтение строки |
| `file("f.txt")` | `open("f.txt")` | Открытие файла |

### 6. Уникод и строки

| Python 2 | Python 3 | Нота |
|----------|----------|------|
| `u"text"` | `"text"` | В Python 3 вы умолчанию |
| `unicode("text")` | `str("text")` | Функция типа |

### 7. Чарактеры

| Python 2 | Python 3 |
|----------|----------|
| `unichr(65)` | `chr(65)` |

### 8. Довгие целые числа

| Python 2 | Python 3 |
|----------|----------|
| `123L` | `123` |
| `0xABCDEFL` | `0xABCDEF` |

**Как это реализовано**: Лексер автоматически удаляет суффикс L/l.

### 9. Операторы и выражения

| Python 2 | Python 3 | Нафта |
|----------|----------|-------|
| Бинарные выражения | Весьма гибкие | Подробная уорядоченность не с скобками |

**Ориентир ПОНЯТИЕ**: В трансляторе исследуем лишь необходимые скобки для группировки.

### 10. Методы атрибутов работают так же

| Python 2 | Python 3 | Комментарий |
|----------|----------|--------|
| `obj.attr` | `obj.attr` | Обращение к атрибуту |
| `obj[key]` | `obj[key]` | Обращение к элементу |
| `obj.method()` | `obj.method()` | Вызов метода |

---

## ОПИСАНИЕ ОШОВ

### НЕПОДДЕРЖИВАЕМЫЕ (На Одит)

- **Оператор exec** (Python 2): `exec "code"` → При ориентации выавляться как функция
- **Оператор raise** с треьмя аргументами: запрещен
- **Оператор except** со старым синтаксисом: `except E, e:` → `except E as e:`
- **Оператор reduce**: Отнесен в `functools`, автоматически добавляется import

---

## АРХИТЕКТУРА ПОНЯТИЕ

### Модули:

1. **lexer/lexer.py** - Лексический анализ
   - Поддерживает токены Python 2 (print, exec, xrange, L-суффикс)
   - Поддерживает DOT (открыто), <> (равенство)

2. **parser/parser.py** - Грамматический анализ
   - Построен рекурсивных десцент (болюе абис)
   - Поддерживает Attribute (obj.attr) и Subscript (obj[index])
   - Объясненная таблица операторов и приоритетов
   - Поддерживает Логические операторы (and, or, not)

3. **generator/generator.py** - Кодогенератор
   - Преобразует AST в положительные Python 3 код
   - Особыность: не добавляет одны скобки

---

## ПОЛНЫЙ СПИСОК ПОДДЕРЖИВАЕМЫХ КОНСТРУКЦиЙ

```
[x] print оператор
[x] if/elif/else
[x] while цикл
[x] for цикл
[x] def определение
[x] class определение
[x] return выражение
[x] import/from import
[x] Все арифметические операторы
[x] Все операторы сравнения
[x] Логические операторы (and, or, not)
[x] obj.attr атрибуты
[x] obj[index] индексация
[x] obj.method() вызовы методов
[x] Номера (десятичные, hex, binary, octal)
[x] Строки (u"", 'и ", """") 
[x] xrange → range
[x] <> → !=
[x] dict.iterkeys/values/items → keys/values/items
[x] dict.has_key → in
[x] raw_input → input
[x] unicode → str
[x] unichr → chr
[x] file → open
[x] L-суффикс
```

---

## ПОЛНЫЁ КОНТрОЛЬНЫР СПИСОК ТЕСТОВ

### НОРМАЛЬНЫЙ НЕМЕ (Красются):

1. **Пример 1**: print оператор
2. **Пример 2**: <> до примёр != (if/else)
3. **Пример 3**: xrange до range (for цикл)
4. **Пример 4**: Логические операторы (and, or, not)
5. **Пример 5**: Атрибуты и индексация (obj.attr, obj[index])
6. **Пример 6**: dict.iterkeys/values/items в keys/values/items
7. **Пример 7**: dict.has_key в in
8. **Пример 8**: raw_input в input
9. **Пример 9**: L-суффикс (удавается лексером)
10. **Пример 10**: unicode, unichr, file

### ОШОККИ (Правные):

1. **ОШИБКА 1**: Неожиданный DOT (обънв за obj.attr без точки)
2. **ОШИБКА 2**: Незакрытые скобки (Массив без ])

